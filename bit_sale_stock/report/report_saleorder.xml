<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="report_saleorder_document_inherit" inherit_id="sale.report_saleorder_document">
            <xpath expr="//div[@class='page']" position="replace">
                <div class="page">
                    <table style="width:100%;">
                        <tr>
                            <td>
                                <img t-if="res_company.logo" t-att-src="'data:image/png;base64,%s' % res_company.logo" style="max-height:120px"/>
                            </td>
	                    </tr>
                        <table>
<div class="row zero_min_height" style="width: 100%;">                            
            <div class="col-xs-12">
                <div style="border-bottom: 9px solid white;"></div>
            </div>
            <div class="col-xs-12">
                <div style="border-bottom: 9px solid white;"></div>
            </div>
            <div class="col-xs-12">
                <div style="border-bottom: 5px solid black;"></div>
            </div>
            <div class="col-xs-3">
                <div style="border-bottom: 14px solid black;"></div>
            </div>
<tr>
                                <td>
                                    <div style="border-bottom: 1px solid white;"/>
                                </td>
                            </tr>
       </div>
                        <t t-if="not o.ticket_id.is_rent and not o.ticket_id.is_repair">
                            <div style="position:absolute;left:700;top:65px;font-size: 14">
                                <strong>Código:  </strong><span>F2-INT/004-00</span>
                            </div>
                            <div style="position:absolute;left:700;top:85px;font-size: 14">
                                <strong>Revisión:  </strong><span>00</span>
                            </div>
                            <div style="position:absolute;left:700;top:105px;font-size: 14">
                                <strong>Emisión:  </strong><span>20/07/2015</span>
                            </div>
                        </t>
                        <t t-if="o.ticket_id.is_rent">
                            <div style="position:absolute;left:700;top:65px;font-size: 14">
                                <strong>Código:   </strong><span>F2-INT/004-00</span>

<!--<span style="font-size:13px" t-field="o.ticket_id.rent_emission_quality_id.name"/>-->
                            </div>
                            <div style="position:absolute;left:700;top:85px;font-size: 14">
                                <strong>Revisión:   </strong><span>00</span>

<!--<span style="font-size:13px" t-field="o.ticket_id.rent_revision_quality_id.name"/>-->
                            </div>
                            <div style="position:absolute;left:700;top:105px;font-size: 14">
                                <strong>Emisión:   </strong><span>20/07/2015</span>

<!--<span style="font-size:13px" t-field="o.ticket_id.rent_code_quality_id.name"/>-->
                            </div>
                        </t>
                        <t t-if="o.ticket_id.is_repair">
                            <div style="position:absolute;left:700;top:65px;font-size: 14">
                                <strong>Código:   </strong><span>F18-INT/005-00</span>

<!--<span style="font-size:13px" t-field="o.ticket_id.repair_emission_quality_id.name"/>-->
                            </div>
                            <div style="position:absolute;left:700;top:85px;font-size: 14">
                                <strong>Revisión:   </strong><span>00</span>

<!--<span style="font-size:13px" t-field="o.ticket_id.repair_revision_quality_id.name"/>-->
                            </div>
                            <div style="position:absolute;left:700;top:105px;font-size: 14">
                                <strong>Emisión:   </strong><span>30/07/2015</span>

<!--<span style="font-size:13px" t-field="o.ticket_id.repair_code_quality_id.name"/>-->
                            </div>
                        </t>
                        </table>
						<div style="position:absolute;left:20;top:140px;font-size: 13">
							<span style="color:white !important"><strong>www.mission-petroleum.com </strong></span>
						</div>
                            <div style="position:absolute;left:10;top:160px;font-size: 13">
                                DIRECCIÓN: <span t-field="res_company.street"/><span t-field="res_company.street2"/>
                            </div>
                            <div style="position:absolute;left:10;top:180px;font-size: 13">
                                FONOS: <span t-field="res_company.phone"/>
                            </div>
                            <div style="position:absolute;left:10;top:200px;font-size: 13">
                                PAIS: <span t-field="res_company.country_id.name"/>
                            </div>
                    </table>
                    <div style="position:absolute;left:10;top:210px;font-size: 12px">
                        <table>
                            <h3 class="text-center">
                                <t t-if="o.state in ('draft', 'sent')">
                                    <span t-if="o.is_rent">COTIZACION DE RENTA</span>
                                </t>
                                <t t-if="o.state in ('manual', 'progress')">
                                    <span t-if="o.is_rent">ORDEN DE RENTA</span>
                                </t>
                                <t t-if="o.state in ('draft', 'sent')">
                                    <span t-if="o.is_repair">COTIZACION DE REPARACION</span>
                                </t>
                                <t t-if="o.state in ('manual', 'progress')">
                                    <span t-if="o.is_repair">ORDEN DE REPARACION</span>
                                </t>
                                <t t-if="o.state in ('draft', 'sent')">
                                    <span t-if="not o.is_rent and not o.is_repair">COTIZACION DE VENTA</span>
                                </t>
                                <t t-if="o.state in ('manual', 'progress')">
                                    <span t-if="not o.is_rent and not o.is_repair">ORDEN DE VENTA</span>
                                </t>
                            </h3>
                            <h4 class="text-center">
                                <span style="color:red !important" t-field="o.name"/>
                            </h4>
                        </table>
                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <td>REFERENCIA DEL CLIENTE:  <span t-esc="o.client_order_ref"/></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>CLIENTE: <span t-field="o.partner_id.name"/></td>
                                    <td>FECHA: <span t-esc="o.date_order[0:10]"/></td>
                                </tr>
                                <tr>
                                    <td>BLOQUE: <span t-field="o.ticket_id.block_field_id.name"/></td>
                                    <td>RIG:  <span t-field="o.ticket_id.drill_id.name"/></td>
                                </tr>

                                <tr>
                                    <td>EVENTO: <span t-field="o.ticket_id.event"/></td>
                                    <td>POZO: <span t-field="o.ticket_id.service_well_id.name"/></td>
                                </tr>
                                <tr>
                                    <td>CONTRATO: <span t-field="o.ticket_id.contract_id.name"/></td>
                                    <td>CAMPO: <span t-field="o.ticket_id.field_id.name"/></td>
                                </tr>
                            </thead>
                        </table>
                        <table>
                            <h4 class="text-center">
                                <strong>DETALLE DE MATERIALES</strong>
                            </h4>
                        </table>
                        <t t-if="o.state in ('draft', 'sent')">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th>CANT.</th>
                                        <th>CODIGO</th>
                                        <th>DESCRIPCION</th>
                                        <th>FECHA ENTREGA</th>
                                        <th>VALOR UNITARIO</th>
                                        <th class="text-right">SUBTOTAL</th>
                                    </tr>
                                </thead>
                                <tbody class="sale_tbody">
                                    <tr t-foreach="o.order_line" t-as="l">
                                        <td>
                                            <span t-field="l.product_uom_qty"/>
                                            <span t-field="l.product_uom"/>
                                        </td>
                                        <td>
                                            <span t-field="l.custom_identificator"/>
                                        </td>
                                        <td>
                                            <span t-field="l.name"/>
                                        </td>
                                        <td>
                                            <span t-esc="o.date_order[0:10]"/>
                                        </td>
                                        <td>
                                            <span t-field="l.price_unit"/>
                                        </td>
                                        <td>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.price_subtotal"/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </t>
                                <t t-if="o.state in ('manual', 'progress')">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th>CANT.</th>
                                        <th>CODIGO</th>
                                        <th>DESCRIPCION</th>
                                        <th>FECHA ENTREGA</th>
                                        <th>VALOR UNITARIO</th>
                                        <th>IVA</th>
                                        <th class="text-right">SUBTOTAL</th>
                                    </tr>
                                </thead>
                                <tbody class="sale_tbody">
                                    <tr t-foreach="o.order_line" t-as="l">
                                        <td>
                                            <span t-field="l.product_uom_qty"/>
                                            <span t-field="l.product_uom"/>
                                        </td>
                                        <td>
                                            <span t-field="l.custom_identificator"/>
                                        </td>
                                        <td>
                                            <span t-field="l.name"/>
                                        </td>
                                        <td>
                                            <span t-esc="o.date_order[0:10]"/>
                                        </td>
                                        <td>
                                            <span t-field="l.price_unit"/>
                                        </td>
                                        <td>
                                            <span t-esc="', '.join(map(lambda x: x.name, l.tax_id))"/>
                                        </td>
                                        <td>
                                            <t t-if="l.discount">
                                                <span t-field="l.discount"/>
                                            </t>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.price_subtotal"/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </t>
                        <div class="row">
                            <div class="col-xs-4 pull-right">
                                <table class="table table-condensed">
                                    <tr class="border-black">
                                        <td><strong>SUBTOTAL</strong></td>
                                        <td class="text-right">
                                            <span t-field="o.amount_untaxed" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>IVA</td>
                                        <td class="text-right">
                                            <span t-field="o.amount_tax" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/>
                                        </td>
                                    </tr>
                                    <tr class="border-black">
                                        <td><strong>TOTAL</strong></td>
                                        <td class="text-right">
                                            <span t-field="o.amount_total" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div>
                            <p><strong>OBSERVACIONES:</strong></p>
                            <table>
                                <h6 class="text-left">
                                    <span t-field="o.note"/>
                                </h6>
                                <h4 class="text-left">
                                    <span style="color:white !important" t-esc="o.name[6:]"/>
                                </h4>
                                <h4 class="text-left">
                                    <span style="color:white !important" t-esc="o.name[6:]"/>
                                </h4>
                            </table>
<!--Venta-->
                                <t t-if="not o.is_repair and not o.is_rent">
                            <table>
                                <tr>
                                    <td width="32%">
                                        <strong><p class="text-center" t-field="o.partner_id.name"></p></strong>
                                        <p class="text-center"><strong>______________________________</strong></p>
                                        <p class="text-center"><strong>REPRESENTANTE DEL CLIENTE</strong></p>
                                    </td>
                                    <td class="text-center" width="45%">
                                       <strong><p class="text-center" t-field="o.user_id.name"></p></strong>
                                        <p class="text-center"><strong>______________________________</strong></p>
                                        <p class="text-center"><strong>REPRESENTANTE DEL SERVICIO</strong></p>
                                    </td>
                                    <td class="text-left" width="40%">
                                        <strong><p class="text-center" style="color:white !important">---</p></strong>
                                        <p class="text-left"><strong>______________________________</strong></p>
                                        <p class="text-left"><span class="text-center" style="color:white !important">------------</span><strong>RECIBIDO POR</strong></p>
                                    </td>
                                </tr>
                            </table>
                                </t>
<!-- Fin Venta-->
<!--Rep-->
                                <t t-if="o.is_repair">
                            <table>
                                <tr>
                                    <td width="32%">
                                        <strong><p class="text-center" t-field="o.partner_id.name"></p></strong>
                                        <p class="text-center"><strong>______________________________</strong></p>
                                        <p class="text-center"><strong>REPRESENTANTE DEL CLIENTE</strong></p>
                                    </td>
                                    <td class="text-center" width="45%">
                                         <strong><p class="text-center" t-field="o.user_id.name"></p></strong>
                                        <p class="text-center"><strong>______________________________</strong></p>
                                        <p class="text-center"><strong>REPRESENTANTE DEL SERVICIO</strong></p>
                                    </td>
                                    <td class="text-left" width="40%">
                                        <strong><p class="text-center" style="color:white !important">---</p></strong>
                                        <p class="text-left"><strong>______________________________</strong></p>
                                        <p class="text-left"><span class="text-center" style="color:white !important">------------</span><strong>RECIBIDO POR</strong></p>
                                    </td>
                                </tr>
                            </table>
                                </t>
<!-- Fin Rep-->
<!--Renta-->
                                <t t-if="o.is_rent">
                            <table>
                                <tr>
                                    <td width="32%">
                                        <strong><p class="text-center" t-field="o.ticket_id.company_man"></p></strong>
                                        <p class="text-center"><strong>______________________________</strong></p>
                                        <p class="text-center"><strong>REPRESENTANTE DEL CLIENTE</strong></p>
                                    </td>
                                    <td class="text-center" width="45%">
                                        <strong><p class="text-center" t-field="o.user_id.name"></p></strong>
                                        <p class="text-center"><strong>______________________________</strong></p>
                                        <p class="text-center"><strong>REPRESENTANTE DEL SERVICIO</strong></p>
                                    </td>
                                    <td class="text-left" width="40%">
                                        <strong><p class="text-center" style="color:white !important">----</p></strong>
                                        <p class="text-left"><strong>______________________________</strong></p>
                                        <p class="text-left"><span class="text-center" style="color:white !important">------------</span><strong>RECIBIDO POR</strong></p>
                                    </td>
                                </tr>
                            </table>
                            </t>
<!--Fin Renta-->
                        </tr>
                        <table>
                            <div class="row zero_min_height" style="width: 100%;">
                                <div class="col-xs-12">
                                    <div style="border-bottom: 9px solid white;"/>
                                </div>
                                <div class="col-xs-12">
                                    <div style="border-bottom: 9px solid white;"/>
                                </div>
                                <div class="col-xs-12">
                                    <div style="border-bottom: 5px solid black;"/>
                                </div>
                                <div class="col-xs-3">
                                    <div style="border-bottom: 14px solid black;"/>
                                </div>
                                <tr>
                                    <td>
                                        <div style="border-bottom: 1px solid white;"/>
                                    </td>
                                </tr>
                            </div>
                            <!-- Venta req -->
                            <t t-if="o.state in ('draft', 'sent')">
                                <t t-if="not o.ticket_id.is_rent and not o.ticket_id.is_repair">
                                    <div style="position:absolute;left:700;top:65px;font-size: 14">
                                        <strong>Código:  </strong><span>F2-INT/006-01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:85px;font-size: 14">
                                        <strong>Revisión:  </strong><span>01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:105px;font-size: 14">
                                        <strong>Emisión:  </strong><span>01/09/2018</span>
                                    </div>
                                </t>
                            </t>
                            <!-- Renta req -->
                            <t t-if="o.state in ('draft', 'sent')">
                                <t t-if="o.ticket_id.is_rent">
                                    <div style="position:absolute;left:700;top:65px;font-size: 14">
                                        <strong>Código:   </strong><span>F2-INT/005-01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:85px;font-size: 14">
                                        <strong>Revisión:   </strong><span>01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:105px;font-size: 14">
                                        <strong>Emisión:   </strong><span>01/09/2018</span>
                                    </div>
                                </t>
                            </t>
                            <!-- Reparacion req -->
                            <t t-if="o.state in ('draft', 'sent')">
                                <t t-if="o.ticket_id.is_repair">
                                    <div style="position:absolute;left:700;top:65px;font-size: 14">
                                        <strong>Código:   </strong><span>F18-INT/016-00</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:85px;font-size: 14">
                                        <strong>Revisión:   </strong><span>00</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:105px;font-size: 14">
                                        <strong>Emisión:   </strong><span>01/09/2018</span>
                                    </div>
                                </t>
                            </t>
                            <!-- Venta -->
                            <t t-if="o.state in ('manual', 'progress')">
                                <t t-if="not o.ticket_id.is_rent and not o.ticket_id.is_repair">
                                    <div style="position:absolute;left:700;top:65px;font-size: 14">
                                        <strong>Código:  </strong><span>F2-INT/004-01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:85px;font-size: 14">
                                        <strong>Revisión:  </strong><span>01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:105px;font-size: 14">
                                        <strong>Emisión:  </strong><span>01/09/2018</span>
                                    </div>
                                </t>
                            </t>
                            <!-- Renta  -->
                            <t t-if="o.state in ('manual', 'progress')">
                                <t t-if="o.ticket_id.is_rent">
                                    <div style="position:absolute;left:700;top:65px;font-size: 14">
                                        <strong>Código:   </strong><span>F2-INT/007-01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:85px;font-size: 14">
                                        <strong>Revisión:   </strong><span>01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:105px;font-size: 14">
                                        <strong>Emisión:   </strong><span>01/09/2018</span>
                                    </div>
                                </t>
                            </t>
                            <!-- Reparacion -->
                            <t t-if="o.state in ('manual', 'progress')">
                                <t t-if="o.ticket_id.is_repair">
                                    <div style="position:absolute;left:700;top:65px;font-size: 14">
                                        <strong>Código:   </strong><span>F18-INT/005-01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:85px;font-size: 14">
                                        <strong>Revisión:   </strong><span>01</span>
                                    </div>
                                    <div style="position:absolute;left:700;top:105px;font-size: 14">
                                        <strong>Emisión:   </strong><span>01/09/2018</span>
                                    </div>
                                </t>
                            </t>
                        </table>
                        <div style="position:absolute;left:20;top:140px;font-size: 13">
                            <span style="color:white !important"><strong>www.mission-petroleum.com </strong></span>
                        </div>
                        <div style="position:absolute;left:10;top:160px;font-size: 13">
                            DIRECCIÓN: <span t-field="res_company.street"/><span t-field="res_company.street2"/>
                        </div>
                        <div style="position:absolute;left:10;top:180px;font-size: 13">
                            FONOS: <span t-field="res_company.phone"/>
                        </div>
                        <div style="position:absolute;left:10;top:200px;font-size: 13">
                            PAIS: <span t-field="res_company.country_id.name"/>
                        </div>
                    </table>
                    <div style="position:absolute;left:10;top:210px;font-size: 12px">
                        <table>
                            <h3 class="text-center">
                                <t t-if="o.state in ('draft', 'sent')">
                                    <span t-if="o.is_rent">COTIZACION DE RENTA</span>
                                </t>
                                <t t-if="o.state in ('manual', 'progress')">
                                    <span t-if="o.is_rent">ORDEN DE RENTA</span>
                                </t>
                                <t t-if="o.state in ('draft', 'sent')">
                                    <span t-if="o.is_repair">COTIZACION DE REPARACION</span>
                                </t>
                                <t t-if="o.state in ('manual', 'progress')">
                                    <span t-if="o.is_repair">ORDEN DE REPARACION</span>
                                </t>
                                <t t-if="o.state in ('draft', 'sent')">
                                    <span t-if="not o.is_rent and not o.is_repair">COTIZACION DE VENTA</span>
                                </t>
                                <t t-if="o.state in ('manual', 'progress')">
                                    <span t-if="not o.is_rent and not o.is_repair">ORDEN DE VENTA</span>
                                </t>
                            </h3>
                            <h4 class="text-center">
                                <span style="color:red !important" t-field="o.name"/>
                            </h4>
                        </table>
                        <t t-if="not o.is_repair and not o.is_rent">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <td>CLIENTE: <span t-field="o.partner_id.name"/></td>
                                        <td>REFERENCIA DEL CLIENTE:  <span t-esc="o.client_order_ref"/></td>
                                    </tr>
                                    <tr>
                                        <td>FECHA: <span t-esc="o.date_order[0:10]"/></td>
                                        <td>BLOQUE: <span t-field="o.ticket_id.block_field_id.name"/></td>
                                    </tr>
                                    <tr>
                                        <td>CAMPO: <span t-field="o.ticket_id.field_id.name"/></td>
                                        <td>POZO: <span t-field="o.ticket_id.service_well_id.name"/></td>
                                    </tr>
                                    <tr>
                                        <td>RIG:  <span t-field="o.ticket_id.drill_id.name"/></td>
                                        <td>EVENTO: <span t-field="o.ticket_id.event"/></td>
                                    </tr>
                                    <tr>
                                        <td>CONTRATO: <span t-field="o.ticket_id.contract_id.name"/></td>

                                    </tr>
                                </thead>
                            </table>
                        </t>
                        <t t-if="o.is_rent">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <td>REFERENCIA DEL CLIENTE:  <span t-esc="o.client_order_ref"/></td>
                                        <td/>
                                    </tr>
                                    <tr>
                                        <td>CLIENTE: <span t-field="o.partner_id.name"/></td>
                                        <td>FECHA: <span t-esc="o.date_order[0:10]"/></td>
                                    </tr>
                                    <tr>
                                        <td>BLOQUE: <span t-field="o.ticket_id.block_field_id.name"/></td>
                                        <td>RIG:  <span t-field="o.ticket_id.drill_id.name"/></td>
                                    </tr>

                                    <tr>
                                        <td>EVENTO: <span t-field="o.ticket_id.event"/></td>
                                        <td>POZO: <span t-field="o.ticket_id.service_well_id.name"/></td>
                                    </tr>
                                    <tr>
                                        <td>CONTRATO: <span t-field="o.ticket_id.contract_id.name"/></td>
                                        <td>CAMPO: <span t-field="o.ticket_id.field_id.name"/></td>
                                    </tr>
                                </thead>
                            </table>
                        </t>
                        <t t-if="o.is_repair">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <td>REFERENCIA DEL CLIENTE:  <span t-esc="o.client_order_ref"/></td>
                                        <td/>
                                    </tr>
                                    <tr>
                                        <td>CLIENTE: <span t-field="o.partner_id.name"/></td>
                                        <td>FECHA: <span t-esc="o.date_order[0:10]"/></td>
                                    </tr>
                                    <tr>
                                        <td>BLOQUE: <span t-field="o.ticket_id.block_field_id.name"/></td>
                                        <td>RIG:  <span t-field="o.ticket_id.drill_id.name"/></td>
                                    </tr>

                                    <tr>
                                        <td>EVENTO: <span t-field="o.ticket_id.event"/></td>
                                        <td>POZO: <span t-field="o.ticket_id.service_well_id.name"/></td>
                                    </tr>
                                    <tr>
                                        <td>CONTRATO: <span t-field="o.ticket_id.contract_id.name"/></td>
                                        <td>CAMPO: <span t-field="o.ticket_id.field_id.name"/></td>
                                    </tr>
                                </thead>
                            </table>
                        </t>
                        <table>
                            <t t-if="not o.is_repair and not o.is_rent">
                                <h4 class="text-center">
                                    <strong>DETALLE DE MATERIALES</strong>
                                </h4>
                            </t>
                            <t t-if="o.is_rent">
                                <h4 class="text-center">
                                    <strong>DETALLE DE MATERIALES</strong>
                                </h4>
                            </t>
                            <t t-if="o.is_repair">
                                <h4 class="text-center">
                                    <strong>DETALLE DE SERVICIOS</strong>
                                </h4>
                            </t>
                        </table>
                        <!-- Lineas de la venta cuando es venta en estado Presupuesto borrador y enviado -->
                        <t t-if="not o.is_repair and not o.is_rent">
                            <t t-if="o.state in ('draft', 'sent')">
                                <table class="table table-condensed">
                                    <thead>
                                        <tr>
                                            <th>CANT.</th>
                                            <th>CODIGO</th>
                                            <th>DESCRIPCION</th>
                                            <th>FECHA ENTREGA</th>
                                            <th>VALOR UNITARIO</th>
                                            <t t-if="o.total_discount &gt;0">
                                                <th>DESCUENTO</th>
                                            </t>
                                            <th class="text-right">SUBTOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody class="sale_tbody">
                                        <tr t-foreach="o.order_line" t-as="l">
                                            <td>
                                                <span t-field="l.product_uom_qty"/>
                                                <span t-field="l.product_uom"/>
                                            </td>
                                            <td>
                                                <span t-field="l.custom_identificator"/>
                                            </td>
                                            <td>
                                                <span t-field="l.name"/>
                                            </td>
                                            <td>
                                                <span t-esc="l.delivery_date"/>
                                            </td>
                                            <td>
                                                <span t-field="l.price_unit"/>
                                            </td>
                                            <td>
                                                <t t-if="l.discount &gt;0">
                                                    <span t-field="l.discount"/>
                                                </t>
                                            </td>
                                            <td class="text-right">
                                                <span t-field="l.price_subtotal"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                        </t>
                        <!-- Lineas de la venta cuando es venta en estado Pedido de Venta o Venta a facturar -->
                        <t t-if="not o.is_repair and not o.is_rent">
                            <t t-if="o.state in ('manual', 'progress')">
                                <table class="table table-condensed">
                                    <thead>
                                        <tr>
                                            <th>CANT.</th>
                                            <th>CODIGO</th>
                                            <th>DESCRIPCION</th>
                                            <th>FECHA ENTREGA</th>
                                            <th>VALOR UNITARIO</th>
                                            <th>IVA</th>
                                            <t t-if="o.total_discount &gt;0">
                                                <th>DESCUENTO</th>
                                            </t>
                                            <th class="text-right">SUBTOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody class="sale_tbody">
                                        <tr t-foreach="o.order_line" t-as="l">
                                            <td>
                                                <span t-field="l.product_uom_qty"/>
                                                <span t-field="l.product_uom"/>
                                            </td>
                                            <td>
                                                <span t-field="l.custom_identificator"/>
                                            </td>
                                            <td>
                                                <span t-field="l.name"/>
                                            </td>
                                            <td>
                                                <span t-esc="l.delivery_date"/>
                                            </td>
                                            <td>
                                                <span t-field="l.price_unit"/>
                                            </td>
                                            <td>
                                                <span t-esc="', '.join(map(lambda x: x.name, l.tax_id))"/>
                                            </td>
                                            <td>
                                                <t t-if="l.discount &gt;0">
                                                    <span t-field="l.discount"/>
                                                </t>
                                            </td>
                                            <td class="text-right">
                                                <span t-field="l.price_subtotal"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                        </t>
                        <!-- Lineas de la venta cuando es renta en estado Presupuesto borrador y enviado -->
                        <t t-if="o.is_rent">
                            <t t-if="o.state in ('draft', 'sent')">
                                <table class="table table-condensed">
                                    <thead>
                                        <tr>
                                            <th>CANT.</th>
                                            <th>CODIGO</th>
                                            <th>DESCRIPCION</th>
                                            <th>FECHA ENTREGA</th>
                                            <th>VALOR UNITARIO</th>
                                            <t t-if="o.total_discount &gt;0">
                                                <th>DESCUENTO</th>
                                            </t>
                                            <th class="text-right">SUBTOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody class="sale_tbody">
                                        <tr t-foreach="o.order_line" t-as="l">
                                            <td>
                                                <span t-field="l.product_uom_qty"/>
                                                <span t-field="l.product_uom"/>
                                            </td>
                                            <td>
                                                <span t-field="l.custom_identificator"/>
                                            </td>
                                            <td>
                                                <span t-field="l.name"/>
                                            </td>
                                            <td>
                                                <span t-esc="o.date_order[0:10]"/>
                                            </td>
                                            <td>
                                                <span t-field="l.price_unit"/>
                                            </td>
                                            <td>
                                                <t t-if="l.discount &gt;0">
                                                    <span t-field="l.discount"/>
                                                </t>
                                            </td>
                                            <td class="text-right">
                                                <span t-field="l.price_subtotal"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                        </t>
                        <!-- Lineas de la venta cuando es renta en estado Pedido de Venta o Venta a facturar -->
                        <t t-if="o.is_rent">
                            <t t-if="o.state in ('manual', 'progress')">
                                <table class="table table-condensed">
                                    <thead>
                                        <tr>
                                            <th>CANT.</th>
                                            <th>CODIGO</th>
                                            <th>DESCRIPCION</th>
                                            <th>FECHA ENTREGA</th>
                                            <th>VALOR UNITARIO</th>
                                            <th>IVA</th>
                                            <t t-if="o.total_discount &gt;0">
                                                <th>DESCUENTO</th>
                                            </t>
                                            <th class="text-right">SUBTOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody class="sale_tbody">
                                        <tr t-foreach="o.order_line" t-as="l">
                                            <td>
                                                <span t-field="l.product_uom_qty"/>
                                                <span t-field="l.product_uom"/>
                                            </td>
                                            <td>
                                                <span t-field="l.custom_identificator"/>
                                            </td>
                                            <td>
                                                <span t-field="l.name"/>
                                            </td>
                                            <td>
                                                <span t-esc="o.date_order[0:10]"/>
                                            </td>
                                            <td>
                                                <span t-field="l.price_unit"/>
                                            </td>
                                            <td>
                                                <span t-esc="', '.join(map(lambda x: x.name, l.tax_id))"/>
                                            </td>
                                            <td>
                                                <t t-if="l.discount &gt;0">
                                                    <span t-field="l.discount"/>
                                                </t>
                                            </td>
                                            <td class="text-right">
                                                <span t-field="l.price_subtotal"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                        </t>
                        <!-- Lineas de la venta cuando es reparacion en estado Presupuesto borrador y enviado -->
                        <t t-if="o.is_repair">
                            <t t-if="o.state in ('draft', 'sent')">
                                <table class="table table-condensed table-bordered">
                                    <thead>
                                        <tr>
                                            <t t-if="o.pricelist_id.name != 'Precio publico'">
                                                <th width="4%">ITEM</th>
                                            </t>
                                            <th width="7%">CANT.</th>
                                            <th width="13%">CODIGO</th>
                                            <th width="38%">DESCRIPCION</th>
                                            <th width="8%">FECHA ENTREGA</th>
                                            <th width="8%">VALOR UNITARIO</th>
                                            <t t-if="o.total_discount &gt;0">
                                                <th width="10%">DESCUENTO</th>
                                            </t>
                                            <th class="text-right" width="11%">SUBTOTAL</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table class="table table-condensed table-bordered">
                                    <tbody class="sale_tbody">
                                        <tr t-foreach="o.order_line" t-as="p_line">
                                            <t t-if="o.pricelist_id.name != 'Precio publico'">
                                                <td>
                                                </td>
                                            </t>
                                            <td>
                                            </td>
                                            <td>
                                            </td>
                                            <td>
                                                <strong><span t-field="p_line.product_id.name"/></strong>
                                            </td>
                                            <tr t-foreach="o.order_line" t-as="l">
                                                <t t-if="l.name==p_line.name">
                                                    <t t-if="o.pricelist_id.name != 'Precio publico'">
                                                        <td class="text-right" width="4%">
                                                            <span t-field="l.item_price_list"/>
                                                        </td>
                                                    </t>
                                                    <td class="text-right" width="7%">
                                                        <span t-esc="round(l.product_uom_qty, 2)"/>
                                                        <span t-field="l.product_uom"/>
                                                    </td>
                                                    <td class="text-right" width="13%">
                                                        <span t-field="l.custom_identificator"/>
                                                    </td>
                                                    <td class="text-left" width="38%">
                                                        <span t-field="l.name"/>
                                                    </td>
                                                    <td class="text-right" width="8%">
                                                        <span t-esc="o.date_order[0:10]"/>
                                                    </td>
                                                    <td class="text-right" width="8%">
                                                        <span t-field="l.price_unit"/>
                                                    </td>
                                                    <t t-if="l.discount &gt;0">
                                                        <td class="text-right" width="10%">
                                                            <span t-field="l.discount"/>
                                                        </td>
                                                    </t>
                                                    <td class="text-right" width="11%">
                                                        <span t-field="l.price_subtotal"/>
                                                    </td>
                                                </t>
                                            </tr>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                        </t>
                        <!-- Lineas de la venta cuando es Reparacion en estado Pedido de Venta o Venta a facturar -->
                        <t t-if="o.is_repair">
                            <t t-if="o.state in ('manual', 'progress')">
                                <table class="table table-condensed table-bordered">
                                    <thead>
                                        <tr>
                                            <t t-if="o.pricelist_id.name != 'Precio publico'">
                                                <th width="4%">ITEM</th>
                                            </t>
                                            <th width="7%">CANT.</th>
                                            <th width="13%">CODIGO</th>
                                            <th width="38%">DESCRIPCION</th>
                                            <th width="8%">FECHA ENTREGA</th>
                                            <th width="8%">VALOR UNITARIO</th>
                                            <th width="7%">IVA</th>
                                            <t t-if="o.total_discount &gt;0">
                                                <th width="10%">DESCUENTO</th>
                                            </t>
                                            <th class="text-right" width="11%">SUBTOTAL</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table class="table table-condensed table-bordered">
                                    <tbody class="sale_tbody">
                                        <tr t-foreach="o.order_line" t-as="p_line">
                                            <t t-if="o.pricelist_id.name != 'Precio publico'">
                                                <td>
                                                </td>
                                            </t>
                                            <td>
                                            </td>
                                            <td>
                                            </td>
                                            <td>
                                                <strong><span t-field="p_line.product_id.name"/></strong>
                                            </td>
                                            <tr t-foreach="o.order_line" t-as="l">
                                                <t t-if="l.name==p_line.name">
                                                    <t t-if="o.pricelist_id.name != 'Precio publico'">
                                                        <td class="text-right" width="4%">
                                                            <span t-field="l.item_price_list"/>
                                                        </td>
                                                    </t>
                                                    <td class="text-right" width="7%">
                                                        <span t-esc="round(l.product_uom_qty, 2)"/>
                                                        <span t-field="l.product_uom"/>
                                                    </td>
                                                    <td class="text-right" width="13%">
                                                        <span t-field="l.custom_identificator"/>
                                                    </td>
                                                    <td class="text-left" width="38%">
                                                        <span t-field="l.name"/>
                                                    </td>
                                                    <td class="text-right" width="8%">
                                                        <span t-esc="o.date_order[0:10]"/>
                                                    </td>
                                                    <td class="text-right" width="8%">
                                                        <span t-field="l.price_unit"/>
                                                    </td>
                                                    <td class="text-right" width="7%">
                                                        <span t-esc="', '.join(map(lambda x: x.name, l.tax_id))"/>
                                                    </td>
                                                    <t t-if="l.discount &gt;0">
                                                        <td class="text-right" width="10%">
                                                            <span t-field="l.discount"/>
                                                        </td>
                                                    </t>
                                                    <td class="text-right" width="11%">
                                                        <span t-field="l.price_subtotal"/>
                                                    </td>
                                                </t>
                                            </tr>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                        </t>

                        <div class="row">
                            <div class="col-xs-4 pull-right">
                                <table class="table table-condensed">
                                    <tr class="border-black">
                                        <td><strong>SUBTOTAL</strong></td>
                                        <td class="text-right">
                                            <span t-field="o.amount_untaxed" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/>
                                        </td>
                                    </tr>
                                    <t t-if="o.total_discount &gt;0">
                                        <tr>
                                            <td>DESCUENTO TOTAL</td>
                                            <td class="text-right">
                                                <span t-field="o.total_discount" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/>
                                            </td>
                                        </tr>
                                    </t>
                                    <tr>
                                        <td>IVA</td>
                                        <td class="text-right">
                                            <span t-field="o.amount_tax" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/>
                                        </td>
                                    </tr>
                                    <tr class="border-black">
                                        <td><strong>TOTAL</strong></td>
                                        <td class="text-right">
                                            <span t-field="o.amount_total" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.pricelist_id.currency_id&quot;}"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div>
                            <p><strong>OBSERVACIONES:</strong></p>
                            <table>
                                <h6 class="text-left">
                                    <span t-field="o.note"/>
                                </h6>
                                <h4 class="text-left">
                                    <span style="color:white !important" t-esc="o.name[6:]"/>
                                </h4>
                                <h4 class="text-left">
                                    <span style="color:white !important" t-esc="o.name[6:]"/>
                                </h4>
                            </table>
                            <!--Venta-->
                            <t t-if="not o.is_repair and not o.is_rent">
                                <table>
                                    <tr>
                                        <td width="32%">
                                            <strong><p class="text-center" t-field="o.ticket_id.company_man"/></strong>
                                            <p class="text-center"><strong>______________________________</strong></p>
                                            <p class="text-center"><strong>REPRESENTANTE DEL CLIENTE</strong></p>
                                        </td>
                                        <td class="text-center" width="45%">
                                            <strong><p class="text-center" t-field="o.user_id.name"/></strong>
                                            <p class="text-center"><strong>______________________________</strong></p>
                                            <p class="text-center"><strong>REPRESENTANTE DEL SERVICIO</strong></p>
                                        </td>
                                        <td class="text-left" width="40%">
                                            <strong><p class="text-center" style="color:white !important">---</p></strong>
                                            <p class="text-left"><strong>______________________________</strong></p>
                                            <p class="text-left"><span class="text-center" style="color:white !important">------------</span><strong>RECIBIDO POR</strong></p>
                                        </td>
                                    </tr>
                                </table>
                            </t>
                            <!-- Fin Venta-->
                            <!--Rep-->
                            <t t-if="o.is_repair">
                                <table>
                                    <tr>
                                        <td width="32%">
                                            <strong><p class="text-center" t-field="o.ticket_id.company_man"/></strong>
                                            <p class="text-center"><strong>______________________________</strong></p>
                                            <p class="text-center"><strong>REPRESENTANTE DEL CLIENTE</strong></p>
                                        </td>
                                        <td class="text-center" width="45%">
                                            <strong><p class="text-center" t-field="o.user_id.name"/></strong>
                                            <p class="text-center"><strong>______________________________</strong></p>
                                            <p class="text-center"><strong>REPRESENTANTE DEL SERVICIO</strong></p>
                                        </td>
                                        <td class="text-left" width="40%">
                                            <strong><p class="text-center" style="color:white !important">---</p></strong>
                                            <p class="text-left"><strong>______________________________</strong></p>
                                            <p class="text-left"><span class="text-center" style="color:white !important">------------</span><strong>RECIBIDO POR</strong></p>
                                        </td>
                                    </tr>
                                </table>
                            </t>
                            <!-- Fin Rep-->
                            <!--Renta-->
                            <t t-if="o.is_rent">
                                <table>
                                    <tr>
                                        <td width="32%">
                                            <strong><p class="text-center" t-field="o.ticket_id.company_man"/></strong>
                                            <p class="text-center"><strong>______________________________</strong></p>
                                            <p class="text-center"><strong>REPRESENTANTE DEL CLIENTE</strong></p>
                                        </td>
                                        <td class="text-center" width="45%">
                                            <strong><p class="text-center" t-field="o.user_id.name"/></strong>
                                            <p class="text-center"><strong>______________________________</strong></p>
                                            <p class="text-center"><strong>REPRESENTANTE DEL SERVICIO</strong></p>
                                        </td>
                                        <td class="text-left" width="40%">
                                            <strong><p class="text-center" style="color:white !important">----</p></strong>
                                            <p class="text-left"><strong>______________________________</strong></p>
                                            <p class="text-left"><span class="text-center" style="color:white !important">------------</span><strong>RECIBIDO POR</strong></p>
                                        </td>
                                    </tr>
                                </table>
                            </t>
                            <!--Fin Renta-->
                        </div>
                    </div>
                </div>
            </xpath>
        </template>
    </data>
</openerp>
